{"version":3,"file":"simple-abort-test.js","names":["Sitemapper","testAbortController","_testAbortController","apply","arguments","_asyncToGenerator","console","log","abortController","AbortController","sitemapper","timeout","debug","fetchPromise","fetch","signal","setTimeout","abort","result","error","name","message","testPreAbortedSignal","_testPreAbortedSignal","then","catch"],"sources":["../../src/examples/simple-abort-test.js"],"sourcesContent":["import Sitemapper from '../assets/sitemapper.js';\n\nasync function testAbortController() {\n  console.log('=== Simple AbortController Test ===\\n');\n\n  // Test with a URL that takes longer to respond or use a slower sitemap\n  const abortController = new AbortController();\n  \n  const sitemapper = new Sitemapper({\n    timeout: 30000,\n    debug: true\n  });\n\n  console.log('Starting request...');\n  \n  const fetchPromise = sitemapper.fetch('https://httpbin.org/delay/5', {\n    signal: abortController.signal\n  });\n\n  // Abort after 1 second\n  setTimeout(() => {\n    console.log('Aborting request...');\n    abortController.abort();\n  }, 1000);\n\n  try {\n    const result = await fetchPromise;\n    console.log('Request completed unexpectedly:', result);\n  } catch (error) {\n    console.log('Request was aborted as expected:', error.name, error.message);\n  }\n}\n\n// Test if AbortController works with already aborted signal\nasync function testPreAbortedSignal() {\n  console.log('\\n=== Pre-aborted Signal Test ===\\n');\n  \n  const abortController = new AbortController();\n  abortController.abort(); // Abort immediately\n  \n  const sitemapper = new Sitemapper({\n    timeout: 30000,\n    debug: true\n  });\n\n  try {\n    const result = await sitemapper.fetch('https://www.google.com/sitemap.xml', {\n      signal: abortController.signal\n    });\n    console.log('Request completed unexpectedly:', result);\n  } catch (error) {\n    console.log('Request was rejected as expected:', error.message);\n  }\n}\n\n// Run the tests\ntestAbortController()\n  .then(() => testPreAbortedSignal())\n  .catch(console.error);"],"mappings":"6XAAA,MAAO,CAAAA,UAAU,KAAM,yBAAyB,CAAC,QAElC,CAAAC,mBAAmBA,CAAA,SAAAC,oBAAA,CAAAC,KAAA,MAAAC,SAAA,WAAAF,qBAAA,SAAAA,oBAAA,CAAAG,iBAAA,CAAlC,WAAqC,CACnCC,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC,IAG9C,CAAAC,CAAe,CAAG,GAAI,CAAAC,eAAiB,CAEvCC,CAAU,CAAG,GAAI,CAAAV,UAAU,CAAC,CAChCW,OAAO,CAAE,GAAK,CACdC,KAAK,GACP,CAAC,CAAC,CAEFN,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAElC,GAAM,CAAAM,CAAY,CAAGH,CAAU,CAACI,KAAK,CAAC,6BAA6B,CAAE,CACnEC,MAAM,CAAEP,CAAe,CAACO,MAC1B,CAAC,CAAC,CAGFC,UAAU,CAAC,IAAM,CACfV,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAClCC,CAAe,CAACS,KAAK,CAAC,CACxB,CAAC,CAAE,GAAI,CAAC,CAER,GAAI,CACF,GAAM,CAAAC,CAAM,MAAS,CAAAL,CAAY,CACjCP,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAEW,CAAM,CACvD,CAAE,MAAOC,CAAK,CAAE,CACdb,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAEY,CAAK,CAACC,IAAI,CAAED,CAAK,CAACE,OAAO,CAC3E,CACF,CAAC,EAAAnB,oBAAA,CAAAC,KAAA,MAAAC,SAAA,UAGc,CAAAkB,oBAAoBA,CAAA,SAAAC,qBAAA,CAAApB,KAAA,MAAAC,SAAA,WAAAmB,sBAAA,SAAAA,qBAAA,CAAAlB,iBAAA,CAAnC,WAAsC,CACpCC,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC,CAElD,GAAM,CAAAC,CAAe,CAAG,GAAI,CAAAC,eAAiB,CAC7CD,CAAe,CAACS,KAAK,CAAC,CAAC,CAEvB,GAAM,CAAAP,CAAU,CAAG,GAAI,CAAAV,UAAU,CAAC,CAChCW,OAAO,CAAE,GAAK,CACdC,KAAK,GACP,CAAC,CAAC,CAEF,GAAI,CACF,GAAM,CAAAM,CAAM,MAAS,CAAAR,CAAU,CAACI,KAAK,CAAC,oCAAoC,CAAE,CAC1EC,MAAM,CAAEP,CAAe,CAACO,MAC1B,CAAC,CAAC,CACFT,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAEW,CAAM,CACvD,CAAE,MAAOC,CAAK,CAAE,CACdb,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAEY,CAAK,CAACE,OAAO,CAChE,CACF,CAAC,EAAAE,qBAAA,CAAApB,KAAA,MAAAC,SAAA,EAGDH,mBAAmB,CAAC,CAAC,CAClBuB,IAAI,CAAC,IAAMF,oBAAoB,CAAC,CAAC,CAAC,CAClCG,KAAK,CAACnB,OAAO,CAACa,KAAK,CAAC","ignoreList":[]}